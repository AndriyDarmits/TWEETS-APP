{"version":3,"sources":["src/index.js"],"names":["list","document","querySelector","form","textarea","submitBtn","generateId","Math","floor","random","toString","substring","tweets","tweetId","username","text","isLiked","createTweets","li","createElement","dataset","innerHTML","addEventListener","e","counter","inputValueLength","target","value","length","characterLimit","inputValue","hasAttribute","removeAttribute","style","color","setAttribute","textContent","preventDefault","data","FormData","tweetObj","get","saveTweets","append","event","buttonElement","closest","classList","toggle","deleteIcon","removeTweets","remove","getTweets","localTweets","localStorage","getItem","JSON","parse","tweet","push","setItem","stringify","filter","renderTweets","forEach"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["// bubbling\n\nconst list = document.querySelector(\"#list\");\nconst form = document.querySelector(\"#new-tweet-form\");\nconst textarea = document.querySelector(\"#textarea\");\nconst submitBtn = document.querySelector(\".submit\");\n// generate unique ID\nconst generateId = () =>\n  Math.floor((1 + Math.random()) * 0x10000)\n    .toString(16)\n    .substring(1);\n\n// initial tweet\nconst tweets = [\n  {\n    tweetId: generateId(),\n    username: \"darmirs99@gmail.com\",\n    text: \"Hey, my little boy\",\n    isLiked: true,\n  },\n];\n\n// generate tweet markup\nconst createTweets = ({ tweetId, username, text, isLiked }) => {\n  const li = document.createElement(\"li\");\n  // add unique data-id attributes\n  li.dataset.tweetId = tweetId;\n  li.innerHTML = `\n  <i class=\"fa-solid fa-xmark delete-icon\"></i>\n      <p class=\"username\">${username}</p>\n      <p class=\"tweets\">${text}</p>\n        <div class=\"buttons\">\n          <a href=\"#\" class=\"like-button ${\n            isLiked ? \"like-button-active\" : \"\"\n          }\">\n            <i class=\"fas fa-heart\"></i>\n          </a>\n        </div>\n  `;\n\n  return li;\n};\n\ntextarea.addEventListener(\"input\", (e) => {\n  const counter = document.querySelector(\".counter\");\n  const inputValueLength = e.target.value.length;\n  const characterLimit = 50;\n  // increment counter, when typing\n  const inputValue = e.target.value;\n  if (inputValueLength <= characterLimit) {\n    if (counter.hasAttribute(\"invalid\")) {\n      counter.removeAttribute(\"invalid\");\n    }\n    counter.style.color = \"\";\n  } else {\n    counter.style.color = \"red\";\n    counter.setAttribute(\"invalid\", true);\n  }\n  counter.textContent = `${inputValueLength}/${characterLimit}`;\n  // if field is empty -disable button\n  if (inputValue !== \"\") {\n    submitBtn.removeAttribute(\"disabled\");\n  } else {\n    submitBtn.setAttribute(\"disabled\", true);\n  }\n});\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  const data = new FormData(e.target); // витягаємо дані з нашої форми\n  const tweetObj = {\n    tweetId: generateId(),\n    username: \"darmirs99@gmail.com\",\n    text: data.get(\"text\"), // по імені поля витягаємо\n    isLiked: false,\n  };\n  //save added tweet to localstorage\n  saveTweets(tweetObj);\n  list.append(\n    createTweets(tweetObj)\n    //text\", \"email\" це ми звератємся за атрибутом name\n  );\n  textarea.value = \"\";\n  submitBtn.setAttribute(\"disabled\", true);\n});\n\nlist.addEventListener(\"click\", (event) => {\n  event.preventDefault();\n\n  // looking for the nearest el which meets specified selector\n  const buttonElement = event.target.closest(\".like-button\");\n\n  // if it was founded - toggle \"like-button-active\"\n  if (buttonElement !== null) {\n    buttonElement.classList.toggle(\"like-button-active\");\n  }\n\n  const deleteIcon = event.target.closest(\".delete-icon\");\n  if (deleteIcon !== null) {\n    const li = event.target.closest(\"li\");\n    removeTweets(li.dataset.tweetId);\n    li.remove();\n  }\n});\n\n//get tweets from local storage\nfunction getTweets() {\n  const localTweets = localStorage.getItem(\"tweets\");\n  if (localTweets === null) {\n    return tweets;\n  }\n  return JSON.parse(localTweets);\n}\n//add tweets to lacal storage\nfunction saveTweets(tweet) {\n  const tweets = getTweets();\n  tweets.push(tweet);\n  localStorage.setItem(\"tweets\", JSON.stringify(tweets));\n}\n//remove tweets from local storage\nfunction removeTweets(tweetId) {\n  const tweets = getTweets();\n  localStorage.setItem(\n    \"tweets\",\n    JSON.stringify(tweets.filter((tweet) => tweet.tweetId !== tweetId))\n  );\n}\n// render all page\nconst renderTweets = () => {\n  const tweets = getTweets();\n  tweets.forEach((tweet) => {\n    list.append(createTweets(tweet));\n  });\n};\n\nrenderTweets();\n"]}